[gd_scene load_steps=18 format=3 uid="uid://dpkrhfy76ympk"]

[ext_resource type="Script" uid="uid://cdjifp8dcfcok" path="res://ASSETS/controllers/scripts/level.gd" id="1_blqo0"]
[ext_resource type="PackedScene" uid="uid://cvxhpcjp06g8f" path="res://ASSETS/scenes/map_assets/spawn_point.tscn" id="2_hxjs6"]
[ext_resource type="PackedScene" uid="uid://dl358o8e8ihjt" path="res://ASSETS/scenes/map_assets/end_level.tscn" id="3_bpab0"]
[ext_resource type="PackedScene" uid="uid://dul2pititpkcb" path="res://ASSETS/scenes/player_controller.tscn" id="4_65y7y"]
[ext_resource type="Texture2D" uid="uid://bbvdohjkhrutx" path="res://ASSETS/texture/kenney_prototype_textures/dark/texture_07.png" id="5_jeo88"]
[ext_resource type="MeshLibrary" uid="uid://daceprhb8647h" path="res://ASSETS/environment/Tiles.tres" id="6_jgn7m"]
[ext_resource type="Environment" uid="uid://binlijw06k2v8" path="res://ASSETS/environment/WE_test.tres" id="7_w6qdm"]
[ext_resource type="Script" uid="uid://bmohv7axfoxts" path="res://ASSETS/controllers/scripts/we.gd" id="8_3m7wt"]
[ext_resource type="PackedScene" uid="uid://bn6iyudl8wv0l" path="res://ASSETS/scenes/map_assets/rigid_plataform.tscn" id="9_xotnx"]
[ext_resource type="PackedScene" uid="uid://ddmylwck6mls6" path="res://ASSETS/scenes/map_assets/grappable_object.tscn" id="10_u4dxk"]

[sub_resource type="BoxMesh" id="BoxMesh_noarx"]
size = Vector3(30, 1, 30)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_a0tk4"]
albedo_texture = ExtResource("5_jeo88")
uv1_triplanar = true
uv2_triplanar = true
uv2_world_triplanar = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_r3fl7"]
data = PackedVector3Array(-15, 0.5, 15, 15, 0.5, 15, -15, -0.5, 15, 15, 0.5, 15, 15, -0.5, 15, -15, -0.5, 15, 15, 0.5, -15, -15, 0.5, -15, 15, -0.5, -15, -15, 0.5, -15, -15, -0.5, -15, 15, -0.5, -15, 15, 0.5, 15, 15, 0.5, -15, 15, -0.5, 15, 15, 0.5, -15, 15, -0.5, -15, 15, -0.5, 15, -15, 0.5, -15, -15, 0.5, 15, -15, -0.5, -15, -15, 0.5, 15, -15, -0.5, 15, -15, -0.5, -15, 15, 0.5, 15, -15, 0.5, 15, 15, 0.5, -15, -15, 0.5, 15, -15, 0.5, -15, 15, 0.5, -15, -15, -0.5, 15, 15, -0.5, 15, -15, -0.5, -15, 15, -0.5, 15, 15, -0.5, -15, -15, -0.5, -15)

[sub_resource type="BoxMesh" id="BoxMesh_a0tk4"]
size = Vector3(10, 1, 10)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_jka67"]
data = PackedVector3Array(-5, 0.5, 5, 5, 0.5, 5, -5, -0.5, 5, 5, 0.5, 5, 5, -0.5, 5, -5, -0.5, 5, 5, 0.5, -5, -5, 0.5, -5, 5, -0.5, -5, -5, 0.5, -5, -5, -0.5, -5, 5, -0.5, -5, 5, 0.5, 5, 5, 0.5, -5, 5, -0.5, 5, 5, 0.5, -5, 5, -0.5, -5, 5, -0.5, 5, -5, 0.5, -5, -5, 0.5, 5, -5, -0.5, -5, -5, 0.5, 5, -5, -0.5, 5, -5, -0.5, -5, 5, 0.5, 5, -5, 0.5, 5, 5, 0.5, -5, -5, 0.5, 5, -5, 0.5, -5, 5, 0.5, -5, -5, -0.5, 5, 5, -0.5, 5, -5, -0.5, -5, 5, -0.5, 5, 5, -0.5, -5, -5, -0.5, -5)

[sub_resource type="BoxShape3D" id="BoxShape3D_jka67"]
size = Vector3(10, 1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_i5arm"]
size = Vector3(10, 1, 10)

[node name="LevelTest" type="Node3D" node_paths=PackedStringArray("player", "door")]
script = ExtResource("1_blqo0")
player = NodePath("CharacterBody3D")
door = NodePath("EndLevel")

[node name="SpawnPoint" parent="." instance=ExtResource("2_hxjs6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.55561, 0)

[node name="EndLevel" parent="." instance=ExtResource("3_bpab0")]
transform = Transform3D(12.9056, 0, 0, 0, 12.9056, 0, 0, 0, 12.9056, -241.771, -20.2038, -205.22)
path_to_new_scene = "res://ASSETS/scenes/levels/tutorial_level.tscn"

[node name="CharacterBody3D" parent="." instance=ExtResource("4_65y7y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
platform_on_leave = 2

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.771862, -0.505349, -0.385814, 0.00683135, -0.613382, 0.789757, -0.635754, 0.606947, 0.476898, 0, 13, 0)
shadow_enabled = true
shadow_opacity = 0.75

[node name="Level" type="Node" parent="."]

[node name="Floor" type="MeshInstance3D" parent="Level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1)
mesh = SubResource("BoxMesh_noarx")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_a0tk4")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/Floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Floor/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_r3fl7")

[node name="Floor2" type="MeshInstance3D" parent="Level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 31, 1, 1)
mesh = SubResource("BoxMesh_noarx")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_a0tk4")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/Floor2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Floor2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_r3fl7")

[node name="Floor3" type="MeshInstance3D" parent="Level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 31, 1, -29)
mesh = SubResource("BoxMesh_noarx")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_a0tk4")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/Floor3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Floor3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_r3fl7")

[node name="Floor4" type="MeshInstance3D" parent="Level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, -29)
mesh = SubResource("BoxMesh_noarx")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_a0tk4")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/Floor4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/Floor4/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_r3fl7")

[node name="PlataformaBaixa" type="MeshInstance3D" parent="Level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 3.5, -10)
mesh = SubResource("BoxMesh_a0tk4")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_a0tk4")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/PlataformaBaixa"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/PlataformaBaixa/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_jka67")

[node name="PlataformaMuitoBaixa" type="MeshInstance3D" parent="Level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 1, -10)
mesh = SubResource("BoxMesh_a0tk4")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_a0tk4")

[node name="StaticBody3D" type="StaticBody3D" parent="Level/PlataformaMuitoBaixa"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/PlataformaMuitoBaixa/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_jka67")

[node name="RigidBodies" type="Node" parent="Level"]

[node name="RigidBody3D21" type="RigidBody3D" parent="Level/RigidBodies"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 2, 13)
mass = 10.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/RigidBodies/RigidBody3D21"]
shape = SubResource("BoxShape3D_jka67")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/RigidBodies/RigidBody3D21/CollisionShape3D"]
mesh = SubResource("BoxMesh_i5arm")
skeleton = NodePath("../..")

[node name="CSGObjects" type="Node" parent="Level"]

[node name="CSGBox3D2" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 42.2846, 3.03476, -10.3138)
use_collision = true

[node name="CSGBox3D3" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 49.2846, 3.03476, -10.3138)
use_collision = true

[node name="CSGBox3D4" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 56.2846, 3.03476, -10.3138)
use_collision = true

[node name="CSGBox3D5" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 56.2846, 6.03476, -10.3138)
use_collision = true

[node name="CSGBox3D6" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 42.2846, 3.03476, -5.31379)
use_collision = true

[node name="CSGBox3D7" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 49.2846, 3.03476, -5.31379)
use_collision = true

[node name="CSGBox3D8" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 56.2846, 3.03476, -5.31379)
use_collision = true

[node name="CSGBox3D9" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 56.2846, 6.03476, -5.31379)
use_collision = true

[node name="CSGBox3D10" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 23.2846, 8.03476, 4.68621)
use_collision = true

[node name="CSGBox3D11" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 30.2846, 8.03476, 4.68621)
use_collision = true

[node name="CSGBox3D12" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 37.2846, 8.03476, 4.68621)
use_collision = true

[node name="CSGBox3D13" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 37.2846, 11.0348, 4.68621)
use_collision = true

[node name="CSGBox3D14" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 23.2846, 8.03476, 9.68621)
use_collision = true

[node name="CSGBox3D15" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 30.2846, 8.03476, 9.68621)
use_collision = true

[node name="CSGBox3D16" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 37.2846, 8.03476, 9.68621)
use_collision = true

[node name="CSGBox3D17" type="CSGBox3D" parent="Level/CSGObjects" groups=["walls"]]
transform = Transform3D(7, 0, 0, 0, 3.07, 0, 0, 0, 0.5, 37.2846, 11.0348, 9.68621)
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="Level/CSGObjects"]
transform = Transform3D(6.8, 0, 0, 0, 6.8, 0, 0, 0, 6.8, 7.14042, 4.9, -0.904712)
use_collision = true

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="Level/CSGObjects/CSGBox3D"]
transform = Transform3D(1.83643e-08, -0.7, 0, 1.54, 8.34742e-09, 0, 0, 0, 0.7, 0.126408, -0.323529, -0.014013)
operation = 2

[node name="CSGBox3D19" type="CSGBox3D" parent="Level/CSGObjects"]
transform = Transform3D(-0.173648, 0, -0.984808, 0, 1, 0, 0.984808, 0, -0.173648, 8.4, 5, -51.9)
use_collision = true
size = Vector3(100, 10, 10)

[node name="CSGBox3D19" type="CSGBox3D" parent="Level/CSGObjects/CSGBox3D19"]
operation = 2
size = Vector3(110, 8, 8)

[node name="CSGBox3D18" type="CSGBox3D" parent="Level/CSGObjects/CSGBox3D19"]
transform = Transform3D(1, 0, 1.49012e-08, 0, 1, 0, -1.49012e-08, 0, 1, -15.3221, 0, 0.0615892)
operation = 2
size = Vector3(4, 4, 13)

[node name="CSGBox3D20" type="CSGBox3D" parent="Level/CSGObjects/CSGBox3D19"]
transform = Transform3D(1, 0, 1.49012e-08, 0, 1, 0, -1.49012e-08, 0, 1, -27.3221, 0, 0.0615894)
operation = 2
size = Vector3(4, 4, 13)

[node name="CSGBox3D21" type="CSGBox3D" parent="Level/CSGObjects/CSGBox3D19"]
transform = Transform3D(1, 0, 1.49012e-08, 0, 1, 0, -1.49012e-08, 0, 1, -3.32208, 0, 0.0615891)
operation = 2
size = Vector3(4, 4, 13)

[node name="CSGBox3D22" type="CSGBox3D" parent="Level/CSGObjects/CSGBox3D19"]
transform = Transform3D(1, 0, 1.49012e-08, 0, 1, 0, -1.49012e-08, 0, 1, 7.67792, 0, 0.0615889)
operation = 2
size = Vector3(4, 4, 13)

[node name="CSGBox3D18" type="CSGBox3D" parent="Level/CSGObjects"]
transform = Transform3D(19.8409, 0, 0, 0, -10.2911, 0, 0, 0, 10.1289, -214.422, -19.5349, -204.955)
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="Level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -65.6818, -16.0436, -200.975)
use_collision = true
size = Vector3(33.5452, 23.2518, 1)

[node name="GridMap" type="GridMap" parent="." groups=["walls"]]
transform = Transform3D(0.999959, -0.00911049, 0, 0.00911049, 0.999959, 0, 0, 0, 1, 0, 0, 0)
mesh_library = ExtResource("6_jgn7m")
data = {
"cells": PackedInt32Array(30, 0, 0, 30, 65521, 0, 0, 15, 0, 15, 15, 0, 30, 15, 0, 0, 30, 0, 15, 30, 0, 30, 30, 0, 524298, 65526, 917504, 524298, 65523, 262144, 262140, 65530, 262145, 524313, 65526, 393216, 524313, 65523, 393216, 524328, 65523, 393216, 524328, 65526, 393216, -196601, 65476, 1, -196595, 65465, 1, -458749, 65425, 131073, -393222, 65430, 131073, -786496, 65433, 524289, -786511, 65428, 524289, -786529, 65433, 524289, 65521, 0, 524288, 65506, 0, 524288, 65491, 0, 524288, 65476, 0, 524288, 65461, 0, 524288, 65446, 0, 524288, 65431, 0, 524288, 65416, 0, 524288, 65401, 0, 524288, 65386, 0, 524288, 65371, 0, 524288, 65356, 0, 524288, 589810, 65529, 327680, 589795, 65529, 327680, 589780, 65529, 327680, 589765, 65529, 327680, 589750, 65529, 327680, 589735, 65529, 327680, 589720, 65529, 327680, 589705, 65529, 327680, 589690, 65529, 327680, 589675, 65529, 327680, 589810, 7, 327680, 589795, 7, 327680, 589780, 7, 327680, 589765, 7, 327680, 589750, 7, 327680, 589735, 7, 327680, 589720, 7, 327680, 589705, 7, 327680, 589690, 7, 327680, 589675, 7, 327680, 589660, 7, 327680, 589660, 65529, 327680, 589645, 65529, 327680, 589645, 7, 327680, -786534, 65433, 1, -786539, 65433, 1, -786544, 65433, 1, -786549, 65433, 1, -786554, 65433, 1, -196601, 65471, 1, -458749, 65430, 1, -65520, 65434, 196608)
}
metadata/_editor_floor_ = Vector3(0, -6, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("7_w6qdm")
script = ExtResource("8_3m7wt")

[node name="RigidBody3D5" parent="." instance=ExtResource("9_xotnx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 44.4596, -3.18024, -147.241)
freeze = true

[node name="RigidBody3D7" parent="." instance=ExtResource("9_xotnx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.533726, -3.18024, -167.977)
freeze = true

[node name="RigidBody3D8" parent="." instance=ExtResource("9_xotnx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.6302, -15.5404, -225.272)
freeze = true

[node name="RigidBody3D" parent="." instance=ExtResource("10_u4dxk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.5155, -9.30504, -207.478)

[node name="RigidBody3D2" parent="." instance=ExtResource("10_u4dxk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -121.406, -25.9079, -205.333)
freeze = true

[node name="RigidBody3D3" parent="." instance=ExtResource("9_xotnx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -155.649, -25.3581, -234.038)
